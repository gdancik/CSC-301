<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    
      <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

  <script src="https://unpkg.com/react@17/umd/react.development.js"
      crossorigin></script>
    <script
      src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"
      crossorigin
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>


    
    <title>To Do List</title>
    
  
  </head>
  
  <body>
    
     
    <!-- this is the start of content -->
    <div class = "m-5">    
      
      <h1>
      My To Do List - Example event handling
      </h1>

      <p> Note that here we use a <i>class</i> rather than a <i>functional</i> React component. When handling events, it is common to have the event handler be a class method that accesses its data. In addition, we must <i>bind</i> the method to 
        the class object so that <i>this</i> works properly (otherwise it is undefined). </p>
      
      <p>Useful links:
        <ul>
          <li>JavaScript classes: <a href = "https://www.w3schools.com/js/js_classes.asp">https://www.w3schools.com/js/js_classes.asp</a></li>
          <li>React event handling: <a href = "https://reactjs.org/docs/handling-events.html">https://reactjs.org/docs/handling-events.html</a></li>
          <li>Object binding: <a href = "https://www.w3schools.com/js/js_function_bind.asp">https://www.w3schools.com/js/js_function_bind.asp</a></li>
      </ul>
      </p>
      
      <hr>
      <div id = "item1"></div>
      
      <script type = "text/babel">
      "use strict";
      
      class ToDoItem extends React.Component {
      
      constructor(props) {
        super(props);
        this.id = props.id;
        this.task = props.task;
        
        // This binding is necessary to make `this` work in the callback    
        this.removeItem = this.removeItem.bind(this);  
      };
      
      
      removeItem() {
        document.getElementById(this.id).style.display = "none";             
      }
      
      render() {
        return (
        <div id = {this.id} className = "row mb-2">         
          <div className = "col-sm-3">                
            <input id = "text1" type = "text" className = "w-100 h-100"
              defaultValue = {this.task}/>
          </div>        
          <div className = "col-sm-2">
            <button id = "btn1" className = "w-100 btn btn-danger" 
            onClick = {this.removeItem}>Click!</button>        
          </div>             
        </div>
        );                
      }
       
      };
      
      ReactDOM.render(<ToDoItem id = "myrow1" task = "Grade papers"/>, document.getElementById('item1'));
          
      
      </script>
      
        
      <hr>
      <p> Exercises: 
        <ul>
          <li>Create a react component for a to-do list that includes two items</li>
          <li>Repeat the above but generate the list using an array</li>
        </ul>
      </p>

      <hr>
      <div id = "todo"> </div>
      
      <script type = "text/babel">


      /*

      // Note: inline styles are JS objects with property-value pairs
      const myStyle = {backgroundColor: "yellow"};
     
      ReactDOM.render(<div style = {myStyle}>FIX ME </div>, 
          document.getElementById('todo'));

      */

      const mylist = ['Grade Papers', 'Clean My Room', 'Get a Haircut'];
      
      function ToDoList(props) {
      
        return (
          <div>
            {mylist.map( (val,id) => 
                  <ToDoItem id = {'myitem' +id} 
                           key = {'myitem'+id} 
                          task = {val}
                  />) }
          </div>
        );
      
      }
      
      ReactDOM.render(<ToDoList/>, 
          document.getElementById('todo'));


      </script>    
    
            
    </div>
    
  </body>
</html>




